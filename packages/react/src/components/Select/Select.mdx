import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';
import * as SelectStories from './Select.stories';

<Meta of={SelectStories} />

# Select
`Select` er en nedtrekksliste som lar brukeren velge ett eller flere alternativer fra et statisk utvalg. Komponenten er bygget på HTML-elementet , som bruker nettleserens innebygde standard. Dette sikrer forutsigbarhet og god tilgjengelighet, men begrenser hvordan komponenten kan tilpasses. For eksempel kan ikke innholdet styles utover det nettleseren tillater.

<br/>

## Props

<Primary />
<Controls />

## Slik bruker du `Select`

```tsx
import { Select, Field } from '@digdir/designsystemet-react';

<Field>
  <Label>Ta et valg</Label>
  <Select>
    <Select.Option value='1'>Alternativ 1</Select.Option>
    <Select.Option value='2'>Alternativ 2</Select.Option>
    <Select.Option value='3'>Alternativ 3</Select.Option>
  </Select>
</Field>
```

## Eksempler


### Med feil
Når feltet er påkrevd og brukeren forsøker å gå videre uten å ha gjort et valg, vises en feilmelding under `select`.

<Canvas of={SelectStories.WithError} />

### Med gruppering
Gruppering brukes for å organisere alternativer i kategorier, noe som gjør lange lister mer oversiktlige og enklere å navigere.

<Canvas of={SelectStories.WithOptgroup} />

## Retningslinjer for `select`

Bruk `select` når det er 7 eller flere alternativer. For færre alternativer kan alternativknapper (`radio`) være enklere for brukerne. `Select` er spesielt brukervennlig på mobil og gir god tilgjengelighet, da det følger operativsystemets standarder. Det fungerer godt når brukeren skal velge ett alternativ fra en liste. Hvis brukeren trenger å velge flere alternativer eller filtrere listen, bør du vurdere å bruke `Suggestion` eller `MultiSuggestion`.

<br/>
Passer til 
* å velge ett alternativ

<br/>

Passer ikke til 
* å navigere
* å velge flere alternativer

<br/>

**Merk**: [Gov.uk](https://design-system.service.gov.uk/components/select) anbefaler å unngå `select` i offentlige digitale tjenester. Deres brukertester viser at brukere ofte synes komponenten er vanskelig å bruke riktig. Det kan være bedre å stille flere spørsmål for å redusere antallet alternativer å velge mellom. Hvis du stiller de riktige spørsmålene først, kan alternativknapper (`radio`) være et bedre valg.

## Tekst i komponenten
`Select`-komponenten skal alltid ha en ledetekst. Vi plasserer ledetekst og beskrivelse over feltet for å sikre god synlighet på små skjermer og unngå problemer ved feilmeldinger. Hold ledeteksten kort, helst på én linje.
Hvis `select` er inne i en tabell og får ledeteksten fra tabelloverskriften, kan vi skjule ledeteksten. Pass likevel på at ledeteksten gir mening, siden den fortsatt skal leses opp av skjermlesere.

## Tilgjengelighet
Det er en kjent feil at `select` ikke fungerer med VoiceOver i Chrome på Mac.
<br/>

| **Kommando** | **Interaksjon** |
| --- | --- |
| **Mellomrom** | Åpne listen (velger også et alternativ på Mac) |
| **Enter** | Velge alternativ i listen (åpner også listen på Windows) |
| **Pil ned** | Markerer neste alternativ i listen |
| **Pil opp** | Markerer forrige alternativ i listen |
| **Home** | Markerer det første alternativet i listen |
| **End** | Markerer det siste alternativet i listen |
| **Bokstav/tegn** | Hopper til det første alternativet som starter på den bokstaven eller det tegnet. |

<br/>

### Ikke bruk deaktivert tilstand
Ikke bruk deaktivert tilstand (disabled state). Tenk heller over om du trenger å vise feltet i det hele tatt, eller om du heller kan skrive informasjonen ut i ren tekst eller bruke `Read Only`.



